{% extends 'partials/base.html.twig' %}

{% block head %}
    {{ parent() }}
    
    {# Page-specific meta tags #}
    {% if page.header.description %}
        <meta name="description" content="{{ page.header.description|e('html_attr') }}">
    {% endif %}
    
    {% if page.header.keywords %}
        <meta name="keywords" content="{{ page.header.keywords|e('html_attr') }}">
    {% endif %}
    
    {# Open Graph meta tags for social sharing #}
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ page.title|e('html_attr') }} | {{ site.title|e('html_attr') }}">
    <meta property="og:description" content="{{ page.header.description ?: site.metadata.description|e('html_attr') }}">
    <meta property="og:url" content="{{ page.url(true, true) }}">
    {% if page.header.hero_image %}
        <meta property="og:image" content="{{ url(page.media[page.header.hero_image].url, true) }}">
    {% endif %}
    
    {# Twitter Card meta tags #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ page.title|e('html_attr') }} | {{ site.title|e('html_attr') }}">
    <meta name="twitter:description" content="{{ page.header.description ?: site.metadata.description|e('html_attr') }}">
    {% if page.header.hero_image %}
        <meta name="twitter:image" content="{{ url(page.media[page.header.hero_image].url, true) }}">
    {% endif %}
    
    {# Structured data for better SEO #}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": {{ page.title|json_encode|raw }},
        "description": {{ (page.header.description ?: site.metadata.description)|json_encode|raw }},
        "url": "{{ page.url(true, true) }}",
        "mainEntity": {
            "@type": "Person",
            "name": {{ site.author.name|json_encode|raw }},
            "jobTitle": "UI/UX Designer",
            "url": "{{ base_url_absolute }}"
        }
    }
    </script>
{% endblock %}

{% block content %}

    {# ✅ Hero Section #}
    <section class="bg-cover bg-center bg-no-repeat bg-primary-50 text-white px-6 py-16 xl:px-20 xl:py-32" style="background-image: url('{{ page.media.images[page.header.hero_image].url }}');">
        <div class="container mx-auto text-center">
            <h1 class="text-5xl font-bold mb-4">
                {{ page.header.hero_title ?: page.title }}
            </h1>
        </div>
    </section>

    <div class="px-6 py-6 xl:px-20 xl:py-20 bg-amber-200 align-middle space-y-12 space-x-12 lg:space-y-20 lg:space-x-20">
        {# ✅ Description / Intro #}
        {% if page.header.intro %}
            <div class="p-ls-padding-h">
                <p class="text-xl">
                    {{ page.header.intro }}
                </p>
            </div>
        {% endif %}

        {# ✅ Main Page Content (from Markdown) #}
        {% if page.content %}
        <div class="p-ls-padding-v">
            {{ page.content|raw }}
        </div>
        {% endif %}

        {# ✅ Profile Section (optional structured content) #}
        {% if page.header.profile %}
            <section class="p-ls-padding-h flex flex-col xl:flex-row flex-auto">
                <div class="flex flex-col lg:flex-row flex-auto">
                    <div class="content-center w-56 h-auto space-y-4 px-6 bg-red-300 m-auto lg:m">
                    {# Image Content #}
                        {% set profileImage = page.media[page.header.profile.image] ?? null %}
                        
                        {% if profileImage %}
                        <img 
                            src="{{ profileImage.url }}"
                            alt="{{ page.header.profile.name ?: 'Profile Picture' }}" 
                            class="transition-transform duration-300 hover:scale-105"
                            loading="lazy"
                        >
                        {% endif %}
                    </div>
                    <div class="flex-1 max-w-9xl content-center space-y-4 px-6 bg-orange-300 text-center lg:text-left">
                    {# Text Content #}
                        <h2 class="text-3xl">{{ page.header.profile.name }}</h2>
                        <p class="text-lg">{{ page.header.profile.bio }}</p>
                    </div>
                </div>
                <div class="flex flex-col lg:flex-row flex-auto w-full space-y-4 px-6 bg-blue-300">
                    <h3 class="w-full w-64 content-center text-2xl leading-10 text-center xl:text-left">
                    {# Skills Content #}
                        {{ header.columnl.skills | raw }}
                    </h3>
                    <h3 class="w-full w-64 content-center text-2xl leading-10 text-center xl:text-left">
                    {# Skills Content #}
                        {{ header.columnr.skills | raw }}
                    </h3>  
                </div>
            </section>
        {% endif %}

    </div>
    
{% endblock %}  